# 编译原理预备实验 计算个人所得税 PersonalTax

## 目 录

1 实验描述

1.1 实验目的 .1

1.2 实验环境 .1

1.2.1 编程语言 .1

1.2.2 开发工具 .1

1.2.3 编码规范 .1

1.3 实验内容 .2

1.3.1 基本要求 .2

1.3.2 个人所得税计算方法 .2

1.3.3 测试用例 .2

1.4 提交结果 .2

1.5 实验交流 .3

2 实验评价 4

2.1 编程风格 .4

2.2 面向对象设计 .4

2.3 其他 .4

Version 4.01; Feb. 15, 2022

## 1 实验描述

在开始实验之前, 请务必花足够时间阅读完本文档关于实验的描述与约定!

### 1.1 实验目的

本实验面向 Java 语言的初学者, 假设学生已掌握结构化程序设计方法, 对面向对象程序设计方法有初步了解。学生最好至少已掌握一门 Java 之外的面向对象程序设计语言,例如 C++或 Smalltalk-80。

学生通过本实验可掌握 Java 程序的开发过程, 以及面向对象技术中封装、信息隐藏、数据抽象、异常处理等机制在实际应用中的有机运用, 并养成遵循良好程序设计编码规范的风格。

学生从本实验还可体会到传统的结构化程序设计方法与当前主流的面向对象程序设计方法在建模与设计上的主要区别, 为后续的编译原理实验打下初步基础。

### 1.2 实验环境

本实验基于当前主流的面向对象开发平台, 编码规范遵循主流的参考规范。

#### 1.2.1 编程语言

Java 语言, JDK 1.5 或以上版本。

#### 1.2.2 开发工具

学生可自由选择 Eclipse、JBuilder 等 IDE 环境,也可直接采用 UltraEdit、EditPlus 等编辑器在命令行工作。但提交的实验结果必须独立于特定的 IDE,可直接运行在 JDK 上。

#### 1.2.3 编码规范

你需要采用面向对象风格来设计实验中的所有类, 并遵循一种良好的程序设计习惯。例如, 如果你将一个程序的很多功能全部放在一个长长的 main(   ) 方法中实现,这样的设计与编码风格会被扣分。

学生在实验过程中应注意培养规范的编码风格。本实验要求所有源代码严格遵循 Sun 公司(现为 Oracle 公司)关于 Java 程序设计语言的编码规范(Code Conventions for the Java Programming Language, Revised April 1999),参见:https://www.oracle.com/java/technologies/javase/codeconventions-contents.html。 完成项目代码后,应使用 JDK 附带的文档工具 javadoc,根据源程序中的文档化注释,自动生成相应的说明性文档。

### 1.3 实验内容

本实验的基本内容看起来虽然较为简单, 但是实验结果在程序的可复用性和可扩展性方面做得优秀却并不容易, 需要精心的设计和实现。

#### 1.3.1 基本要求

设计一个基于命令行界面的计算个人所得税(工资、薪金所得)应用程序,根据用户输入的当月工资薪金总额计算应缴纳的个人所得税额。

为适应未来个人所得税法的可能变化 (历史上曾有不同城市执行不同标准的情况, 也曾发生过立法修改个人所得税起征基数),该程序应支持对个人所得税起征点进行调整的功能,并且个人所得税各级税率也允许修改。请使用简单的命令行菜单方式让用户选择所需的功能。

#### 1.3.2 个人所得税计算方法

我国税法规定,公民每月工资、薪金收入总额超过 800 元(即个人所得税起征点,2006 年修订立法改为 1,600 元, 2011 年调至 3,500 元) 者应缴纳个人所得税。

收入总额减去免征基数后剩余部分称为应纳税所得额,应纳税所得额按下表规定的超额累进税率计算应缴纳的个人所得税。实际上,个人所得税税率表共分 9 级 (2011 年调整为 7 级),最高税率为 45%； 本实验将税率表简化为以下 5 个级别:

<table><tr><td>级别</td><td>应纳税所得额</td><td>税率%</td></tr><tr><td>1</td><td>不超过 500 元的</td><td>5</td></tr><tr><td>2</td><td>超过 500 元至 2,000 元的部分</td><td>10</td></tr><tr><td>3</td><td>超过 2,000 元至 5,000 元的部分</td><td>15</td></tr><tr><td>4</td><td>超过 5,000 元至 20,000 元的部分</td><td>20</td></tr><tr><td>5</td><td>超过 20,000 元部分</td><td>25</td></tr></table>

#### 1.3.3 测试用例

例如,张三某月工资薪金总收入为 4,300 元,减去免征基数 1,600 元,则应纳税所得额为 2,700 元。

应纳税所得额中,超过 2,000 部分为 2,700 - 2,000 = 700 元,按 15% 税率计算应纳税 105 元；而 500 元至 2,000 元的部分为 1,500 元,按 10% 税率计算应纳税 150 元；不超过 500 元的部分为 500 元,按 5% 税率计算应纳税 25 元。

所以,该月张三应缴纳的个人所得税金额为 ${105} + {150} + {25} = {280}$ 元。

### 1.4 提交结果

注意你的实验结果不应只包含源程序代码, 还应包括一个面向对象程序的设计文档(建议命名为 design.doc 或 design.pdf)、编译与运行程序的脚本 (.bat 文件)、各种测试用例 (尽量支持回归测试, Regression Testing)等。

此外, 至少还要包括一个纯文本的自述文件 readme.txt, 其中描述你自己的姓名、学号、email、电话等基本信息, 并将你在本实验中的收获体会也写在自述文件中。

你的实验结果全部存放在一个名为 “学号 + 姓名”(中间不要任何空格)的文件夹中,压缩成单个文件后, 在指定截止时间前提交给本课程的教学助理。

### 1.5 实验交流

如果在本实验的课堂交流时你被随机地抽点到, 建议你按以下次序展示你的实验结果:

- 介绍自己对问题的理解以及程序的设计; 展示面向对象建模与设计的最佳工具, 当然是统一建模语言 UML (Unified Modeling Language)。

- 向大家展示你的源代码或 javadoc 文档 (HTML 格式)。

- 运行多个测试用例演示程序的运行效果。

- 接受老师和其他同学的提问和建议。

## 2 实验评价

任课教师将从文档、源程序、执行结果等多个角度评价你的实验结果, 因而它们也是你完成该实验需要重点注意的地方。

### 2.1 编程风格

- 源程序中标识符命名、程序版面、程序注释等影响程序可理解性的要素(你必须遵循 Sun 公司建议的 Java 编码规范)。

- 是否能熟练地运用 Java 语言的文档化注释 (同样须遵循 Sun 公司建议的编码规范)。

- 作为一个完整的实验结果, 文档和源程序文件的组织是否合理。

### 2.2 面向对象设计

- 程序结构的设计是否合理,譬如程序中对类或方法的抽象是否自然。

- 程序接口 (包括对象接口和方法接口) 的设计是否合理。

- 程序对未来变化的适应性如何, 譬如是否容易修改或不必修改就应付可能发生的变化, 是否方便在不同的环境下(例如一个基于 J2EE 的 Web 应用中)复用程序或程序中的构件。

### 2.3 其他

- 为尽可能提高程序的正确性, 测试用例的选择是否完善, 有无其他措施有助于提高程序的正确性(譬如单元测试、回归测试), 譬如使用单元测试框架 JUnit 作为自己的测试工具。

- 源程序中对异常的处理是否充分,可执行程序的健壮性如何 (在异常情况下工作的能力)。

- 其他可能影响程序质量的要素, 例如用户界面是否友好、是否分别提供了构建与运行程序的脚本文件等。